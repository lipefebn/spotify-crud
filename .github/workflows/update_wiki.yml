name: On update diagrams 

on:
  push:
    branches:
      - '**'
    tags-ignore:
      - '*.*'
    paths:
      - docs/diagram/*

jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: Render PlantUML to wiki
        run: ./docs/wiki/update_diagram.sh
        shell: bash
        env:
          TOKEN: ${{secrets.GITHUB_TOKEN}}
          PATH_DIAGRAMS: "docs/diagram"
          OUTPUT_DIAGRAMS: "diagrams"
          PAGE_NAME: "Diagrams.md"
